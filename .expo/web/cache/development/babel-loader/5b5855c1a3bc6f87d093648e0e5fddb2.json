{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { useState, useEffect } from 'react';\nimport { CountryModal } from \"./CountryModal\";\nimport { HeaderModal } from \"./HeaderModal\";\nimport { FlagType } from \"./types\";\nimport { CountryFilter } from \"./CountryFilter\";\nimport { FlagButton } from \"./FlagButton\";\nimport { useContext } from \"./CountryContext\";\nimport { CountryList } from \"./CountryList\";\n\nvar renderFlagButton = function renderFlagButton(props) {\n  return props.renderFlagButton ? props.renderFlagButton(props) : React.createElement(FlagButton, _extends({}, props));\n};\n\nvar _renderFilter = function renderFilter(props) {\n  return props.renderCountryFilter ? props.renderCountryFilter(props) : React.createElement(CountryFilter, _extends({}, props));\n};\n\nexport var CountryPicker = function CountryPicker(props) {\n  var countryCode = props.countryCode,\n      region = props.region,\n      subregion = props.subregion,\n      countryCodes = props.countryCodes,\n      renderButton = props.renderFlagButton,\n      renderCountryFilter = props.renderCountryFilter,\n      filterProps = props.filterProps,\n      modalProps = props.modalProps,\n      flatListProps = props.flatListProps,\n      onSelect = props.onSelect,\n      withEmoji = props.withEmoji,\n      withFilter = props.withFilter,\n      withCloseButton = props.withCloseButton,\n      withCountryNameButton = props.withCountryNameButton,\n      withCallingCodeButton = props.withCallingCodeButton,\n      withCurrencyButton = props.withCurrencyButton,\n      containerButtonStyle = props.containerButtonStyle,\n      withAlphaFilter = props.withAlphaFilter,\n      withCallingCode = props.withCallingCode,\n      withCurrency = props.withCurrency,\n      withFlag = props.withFlag,\n      withModal = props.withModal,\n      disableNativeModal = props.disableNativeModal,\n      withFlagButton = props.withFlagButton,\n      handleClose = props.onClose,\n      handleOpen = props.onOpen,\n      closeButtonImage = props.closeButtonImage,\n      closeButtonStyle = props.closeButtonStyle,\n      closeButtonImageStyle = props.closeButtonImageStyle,\n      excludeCountries = props.excludeCountries,\n      placeholder = props.placeholder,\n      preferredCountries = props.preferredCountries;\n\n  var _useState = useState({\n    visible: props.visible || false,\n    countries: [],\n    filter: '',\n    filterFocus: false\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  var _useContext = useContext(),\n      translation = _useContext.translation,\n      getCountriesAsync = _useContext.getCountriesAsync;\n\n  var visible = state.visible,\n      filter = state.filter,\n      countries = state.countries,\n      filterFocus = state.filterFocus;\n  useEffect(function () {\n    if (state.visible !== props.visible) {\n      setState(_objectSpread(_objectSpread({}, state), {}, {\n        visible: props.visible || false\n      }));\n    }\n  }, [props.visible]);\n\n  var onOpen = function onOpen() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      visible: true\n    }));\n\n    if (handleOpen) {\n      handleOpen();\n    }\n  };\n\n  var onClose = function onClose() {\n    setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: '',\n      visible: false\n    }));\n\n    if (handleClose) {\n      handleClose();\n    }\n  };\n\n  var setFilter = function setFilter(filter) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filter: filter\n    }));\n  };\n\n  var setCountries = function setCountries(countries) {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      countries: countries\n    }));\n  };\n\n  var onSelectClose = function onSelectClose(country) {\n    onSelect(country);\n    onClose();\n  };\n\n  var onFocus = function onFocus() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: true\n    }));\n  };\n\n  var onBlur = function onBlur() {\n    return setState(_objectSpread(_objectSpread({}, state), {}, {\n      filterFocus: false\n    }));\n  };\n\n  var flagProp = {\n    countryCode: countryCode,\n    withEmoji: withEmoji,\n    withCountryNameButton: withCountryNameButton,\n    withCallingCodeButton: withCallingCodeButton,\n    withCurrencyButton: withCurrencyButton,\n    withFlagButton: withFlagButton,\n    renderFlagButton: renderButton,\n    onOpen: onOpen,\n    containerButtonStyle: containerButtonStyle,\n    placeholder: placeholder\n  };\n  useEffect(function () {\n    getCountriesAsync(withEmoji ? FlagType.EMOJI : FlagType.FLAT, translation, region, subregion, countryCodes, excludeCountries, preferredCountries, withAlphaFilter).then(setCountries).catch(console.warn);\n  }, [translation, withEmoji]);\n  return React.createElement(React.Fragment, null, withModal && renderFlagButton(flagProp), React.createElement(CountryModal, _extends({}, _objectSpread({\n    visible: visible,\n    withModal: withModal,\n    disableNativeModal: disableNativeModal\n  }, modalProps), {\n    onRequestClose: onClose,\n    onDismiss: onClose\n  }), React.createElement(HeaderModal, _extends({}, {\n    withFilter: withFilter,\n    onClose: onClose,\n    closeButtonImage: closeButtonImage,\n    closeButtonImageStyle: closeButtonImageStyle,\n    closeButtonStyle: closeButtonStyle,\n    withCloseButton: withCloseButton\n  }, {\n    renderFilter: function renderFilter(props) {\n      return _renderFilter(_objectSpread(_objectSpread({}, props), {}, {\n        renderCountryFilter: renderCountryFilter,\n        onChangeText: setFilter,\n        value: filter,\n        onFocus: onFocus,\n        onBlur: onBlur\n      }, filterProps));\n    }\n  })), React.createElement(CountryList, _extends({}, {\n    onSelect: onSelectClose,\n    data: countries,\n    letters: [],\n    withAlphaFilter: withAlphaFilter && filter === '',\n    withCallingCode: withCallingCode,\n    withCurrency: withCurrency,\n    withFlag: withFlag,\n    withEmoji: withEmoji,\n    filter: filter,\n    filterFocus: filterFocus,\n    flatListProps: flatListProps\n  }))));\n};\nCountryPicker.defaultProps = {\n  withModal: true,\n  withAlphaFilter: false,\n  withCallingCode: false,\n  placeholder: 'Select Country'\n};","map":{"version":3,"mappings":"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","names":["React","useState","useEffect","CountryModal","HeaderModal","FlagType","CountryFilter","FlagButton","useContext","CountryList","renderFlagButton","props","renderFilter","renderCountryFilter","CountryPicker","countryCode","region","subregion","countryCodes","renderButton","filterProps","modalProps","flatListProps","onSelect","withEmoji","withFilter","withCloseButton","withCountryNameButton","withCallingCodeButton","withCurrencyButton","containerButtonStyle","withAlphaFilter","withCallingCode","withCurrency","withFlag","withModal","disableNativeModal","withFlagButton","handleClose","onClose","handleOpen","onOpen","closeButtonImage","closeButtonStyle","closeButtonImageStyle","excludeCountries","placeholder","preferredCountries","visible","countries","filter","filterFocus","state","setState","translation","getCountriesAsync","setFilter","setCountries","onSelectClose","country","onFocus","onBlur","flagProp","EMOJI","FLAT","then","catch","console","warn","onRequestClose","onDismiss","onChangeText","value","data","letters","defaultProps"],"sourceRoot":"","sources":["../src/CountryPicker.tsx"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}